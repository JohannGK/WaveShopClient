@page
@model ProductFormModel
@{
    ViewData["Title"] = "Product page";
}

<div class="container mt-5">
    <div class="card shadow">
        <div class="card-header">
            <label class="text fs-2" for="">Detalles del producto</label>
        </div>
        <div class="card-body">
            <div id="carouselExampleControls" class="carousel slide mb-1" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <video width="500" height="300" controls>
                            <source src="..." type="video/mp4" />
                        </video>
                    </div>
                    <div class="carousel-item">
                        <img src="https://cdn4.iconfinder.com/data/icons/SUPERVISTA/business/png/400/benchmarking.png"
                            class="d-block " alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="https://cdn4.iconfinder.com/data/icons/SUPERVISTA/business/png/400/benchmarking.png"
                            class="d-block" alt="...">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
            <form>
                <fieldset>
                    <div class="btn btn-outline-primary mb-5">
                        Cargar imagen
                    </div>
                    <div class="input-group mb-3">
                        <label class="input-group-text" for="fileChooser">Images</label>
                        <input type="file" class="form-control" id="fileChooser">
                    </div>
                    <div class="mb-3">
                        <label for="disabledTextInput" class="form-label">Nombre del producto</label>
                        <input type="text" id="disabledTextInput" class="form-control"
                            placeholder="Ejemplo: Compresas de viento para manigueta XM312">
                    </div>
                    <div class="mb-3 row">
                        <div class="col-md-8">
                            <label for="disabledTextInput" class="form-label">Ubicación</label>
                            <input type="text" id="disabledTextInput" class="form-control"
                                placeholder="Ejemplo: Prolongación cariillo puerto">
                        </div>
                        <div class="col-md-4">
                            <label for="disabledTextInput" class="form-label">País</label>
                            <input type="text" id="disabledTextInput" class="form-control"
                                placeholder="Ejemplo: México">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <div class="col-md-4">
                            <label for="disabledTextInput" class="form-label">Precio por unidad</label>
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="basic-addon1">$</span>
                                <input type="text" class="form-control" placeholder="100.00" aria-label="Username"
                                    aria-describedby="basic-addon1">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="disabledTextInput" class="form-label">Unidades</label>
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="basic-addon1">#</span>
                                <input type="text" class="form-control" placeholder="42" aria-label="Username"
                                    aria-describedby="basic-addon1">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="disabledTextInput" class="form-label">Status</label>
                            <select class="form-select" aria-label="Default select example">
                                <option selected>Visible</option>
                                <option value="1">Oculto</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="disabledTextInput" class="form-label">Descripción</label>
                        <textarea type="text" id="disabledTextInput" class="form-control"
                            placeholder="Ejemplo: Descripción del producto..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary mt-3">Guardar</button>
                </fieldset>
            </form>
        </div>
        <div class="card-footer">
            <small class="text-muted">El producto va a poder ser visto por cualquier usuario</small>
        </div>
    </div>
</div>


@section Scripts {
<script>
    $(document).ready(() => {
        $('#fileChooser').change(function () {
            var names = [];
            for (var i = 0; i < this.files.length; ++i) {
                var F_name = this.files[i].name;
                names.push(F_name);
                var extension = F_name.replace(/^.*\./, '');
                if (extension == "xml") {
                    var rd = new FileReader();
                    rd.onload = function (e) {
                        var xmlDoc = $.parseXML(this.result);
                        var $xml = $(xmlDoc);
                        console.log($xml.find('title-group article-title').text());
                    };
                    rd.readAsText(this.files[i]);
                }
            }
            alert(names);
        });
    });
</script>
}
